<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 1.1//EN" "http://jakarta.apache.org/struts/dtds/struts-config_1_1.dtd">
<struts-config>
	
    <!-- ========== Data Source Configuration ============================== -->
    <data-sources />
    <!-- ========== Form Bean Definitions ================================== -->
    <form-beans>
    	<form-bean name="loginForm" type="gov.nih.nci.eagle.web.struts.LoginForm"/>
  	</form-beans>
  <!-- ========== Global Exception Definitions ============================ -->
  <global-exceptions />
  <!-- ========== Global Forward Definitions ============================== -->
  <global-forwards>
  
  </global-forwards>
    
    <!-- ========== Action Mapping Definitions ============================ -->
    
  <action-mappings>
      
   <action path="/login"
           type="org.springframework.web.struts.DelegatingActionProxy"
           name="loginForm"
           scope="request"
           validate="true"
           input="/index.jsp">
    <forward name="success" path="caintegrator.legal"/> 
    <forward name="failure" path="/index.jsp"/>    
    </action>
    
    <action path="/clinicalInit"
           type="org.springframework.web.struts.DelegatingActionProxy"
           name="clinicalForm"
           scope="request"
           validate="false"
           parameter="method">
    <forward name="success" path="target.clinicalQuery"/> 
    <forward name="failure" path="target.welcome"/>    
    </action>
    
    <action path="/clinicalQuery"
           type="org.springframework.web.struts.DelegatingActionProxy"
           name="clinicalForm"
           scope="request"
           validate="true"
           input="/clinicalInit.do?method=setup"
           parameter="method">
    <forward name="success" path="target.viewResults"/> 
    <forward name="failure" path="/clinicalInit.do?method=setup"/>    
    </action>
       
    <action path="/logout"
           type="gov.nih.nci.eagle.web.struts.LogoutAction"
           scope="request">
    <forward name="logout" path="/index.jsp"/>    
    </action>
    
    <action path="/welcome" forward="caintegrator.welcome"/> 
    
    <action path="/analysisHome" forward="caintegrator.analysisHome"/>
    
    <action path="/advancedHome" forward="caintegrator.advancedHome"/>
    
    <action path="/viewResults" forward="caintegrator.viewResults"/>
    
    <action path="/manageLists" forward="caintegrator.manageLists"/>
    
    <action path="/clinicalReport" 
    	 type="org.springframework.web.struts.DelegatingActionProxy"
    	 parameter="method">
    <forward name="success" path="/WEB-INF/jsp/testJsfReport.jsf"/>
    <forward name="failure" path="/500.jsp"/>
    </action>     
        
         
 </action-mappings>
    
    <!-- ========== Controller Configuration =============================== -->
    <controller />
    
    <!-- ========== Message Resources Definitions ========================== -->
    <message-resources parameter="ApplicationResources" />
   
   
    <!-- ========== Plug Ins Configuration ================================= -->
	 <plug-in className="org.springframework.web.struts.ContextLoaderPlugIn">
    	<set-property property="contextConfigLocation" value="/WEB-INF/applicationContext-struts.xml"/>
 	</plug-in>
	 
	 <plug-in className="org.apache.struts.tiles.TilesPlugin" >
	   <set-property property="definitions-config" value="/WEB-INF/tiles-defs.xml" />
	   <set-property property="definitions-parser-validate" value="true" />
	   <set-property property="definitions-debug" value="2" />
	   <set-property property="definitions-parser-details" value="2" />
	   <set-property property="moduleAware" value="true" />
	 </plug-in>
	 
	 <plug-in className="org.apache.struts.validator.ValidatorPlugIn">
	    <set-property property="pathnames" value="/WEB-INF/validator-rules.xml, /WEB-INF/validation.xml"/>
	</plug-in>
</struts-config>

